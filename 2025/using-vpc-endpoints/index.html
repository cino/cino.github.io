<!doctype html><html class="h-full antialiased" style=--header-position:sticky;--content-offset:0px;--header-height:64px;--header-mb:0px;--header-top:0px;--avatar-top:0px lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using AWS VPC Endpoints - Cino</title>
<link rel=canonical href=https://cino.io/2025/using-vpc-endpoints/><link rel=alternate type=application/rss+xml title=RSS href=https://cino.io/index.xml><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="Cino.io"><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://cino.io/2025/using-vpc-endpoints/"><meta property="og:site_name" content="Cino"><meta property="og:title" content="Using AWS VPC Endpoints"><meta property="og:description" content="After posting about Private API Gateway’s with DNS I received the suggestion by Lee Gilmore to elaborate on VPC Endpoints. In this article, I will show you how to use VPC Endpoints to access AWS services without the need to go through the internet."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="2025"><meta property="article:published_time" content="2025-03-14T12:00:40+01:00"><meta property="article:modified_time" content="2025-03-14T12:00:40+01:00"><meta property="article:tag" content="Aws"><meta property="article:tag" content="Amazon Web Services"><meta property="article:tag" content="Vpc"><meta property="article:tag" content="Vpc Endpoint"><meta property="article:tag" content="Tags/Private Networking"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using AWS VPC Endpoints"><meta name=twitter:description content="After posting about Private API Gateway’s with DNS I received the suggestion by Lee Gilmore to elaborate on VPC Endpoints. In this article, I will show you how to use VPC Endpoints to access AWS services without the need to go through the internet."><meta itemprop=name content="Using AWS VPC Endpoints"><meta itemprop=description content="After posting about Private API Gateway’s with DNS I received the suggestion by Lee Gilmore to elaborate on VPC Endpoints. In this article, I will show you how to use VPC Endpoints to access AWS services without the need to go through the internet."><meta itemprop=datePublished content="2025-03-14T12:00:40+01:00"><meta itemprop=dateModified content="2025-03-14T12:00:40+01:00"><meta itemprop=wordCount content="639"><meta itemprop=keywords content="Aws,Amazon Web Services,Vpc,Vpc Endpoint,Tags/Private Networking"><link rel=stylesheet href="https://cino.io/css/styles.min.b29eb0753b4e2f68056421c58df7f843c353bba97147c2164c07d5e1b60129a7.css" integrity="sha256-sp6wdTtOL2gFZCHFjff4Q8NTu6lxR8IWTAfV4bYBKac="><meta name=fediverse:creator content="@cino@fosstodon.org"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GCGJ9S1XSX"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GCGJ9S1XSX")}</script></head><body class="flex h-full flex-col bg-zinc-50"><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="w-full bg-white ring-1 ring-zinc-100"></div></div></div><div class=relative><header class="pointer-events-none relative z-50 flex flex-col" style=height:var(--header-height);margin-bottom:var(--header-mb)><div class="top-0 z-10 h-16 pt-6" style=position:var(--header-position)><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style=position:var(--header-inner-position)><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1"><div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur"><a aria-label=Home class=pointer-events-auto href=https://cino.io/><img alt sizes=2.25rem src=/img/ricardo-cino-36x36.jpg decoding=async data-nimg=1 class="rounded-full bg-zinc-100 object-cover h-9 w-9" style=color:transparent width=512 height=512 alt="Ricardo Cino"></a></div></div><div class="flex flex-1 justify-end md:justify-center"><nav class="pointer-events-auto block"><ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur"><li><a class="relative block px-3 py-2 transition hover:text-teal-500" href=/>Home</a></li></ul></nav></div><div class="flex justify-end md:flex-1"></div></div></div></div></div></div></div></header><main><div class="sm:px-8 mt-16 lg:mt-32"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class=xl:relative><div class="mx-auto max-w-2xl"><a href=/ aria-label="Go back to articles" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5 lg:mb-0 lg:-mt-2 xl:-top-1.5 xl:left-0 xl:mt-0"><svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></a><article><header class="flex flex-col"><time datetime=2025-03-14 class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
<span class=ml-3>March 14, 2025</span>
<span class="h-4 ml-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
<span class=ml-3>3 min read</span></time><div class="relative mt-4 text-zinc-400"><a href=/tags/aws/ class=hover:text-zinc-200>#aws</a>, <a href=/tags/amazon-web-services/ class=hover:text-zinc-200>#amazon web services</a>, <a href=/tags/vpc/ class=hover:text-zinc-200>#vpc</a>, <a href=/tags/vpc-endpoint/ class=hover:text-zinc-200>#vpc endpoint</a>, <a href=/tags/private-networking/ class=hover:text-zinc-200>#private networking</a></div><h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl">Using AWS VPC Endpoints</h1></header><div class="mt-8 prose dark:prose-invert"><p>After posting about Private API Gateway&rsquo;s with DNS I received the suggestion by <a href=https://www.linkedin.com/in/lee-james-gilmore/>Lee Gilmore</a> to elaborate on VPC Endpoints. In this article, I will show you how to use VPC Endpoints to access AWS services without the need to go through the internet.</p><h2 id=what-are-vpc-endpoints>What are VPC Endpoints?</h2><p>If we take a step back and think about how we access AWS Services, we will see that most of the time we do it through the internet. This means that our VPCs need to have a route to the internet, which is not always ideal. For example, if we have a private subnet, we don&rsquo;t want to have a route to the internet if all we do is talk to Amazon Services.</p><h2 id=types-of-vpc-endpoints>Types of VPC Endpoints</h2><p>Amazon recently introduced two new types of VPC Endpoints: Resources and Service networks, however we are going to focus on the existing types which are Interface Endpoints and Gateway Endpoints.</p><h3 id=gateway-endpoints>Gateway Endpoints</h3><p>Gateway Endpoints are used to connect to S3 and DynamoDB. They are used to connect to services that are not in the VPC. This means that if you have a private subnet and you want to access S3, you can use a Gateway Endpoint to do so without the need to go through the internet.</p><p>Good to know about Gateway Endpoints:</p><ul><li>Free of charge</li><li>Exclusively for S3 and DynamoDB</li><li>Associated at the VPC Level</li><li>Only has an endpoint policy</li></ul><p>As these are free there should be no reason why you are not using them if you have a private subnet and need to access S3 or DynamoDB.</p><h3 id=interface-endpoints>Interface Endpoints</h3><p>Interface Endpoints are used to connect to other AWS services like SNS, SQS, and <a href=https://docs.aws.amazon.com/vpc/latest/privatelink/aws-services-privatelink-support.html>others</a>. These endpoints are used to connect to</p><p>Good to know about Interface Endpoints:</p><ul><li>Charged per hour (~8.03 USD per month in eu-west-1, based on 1 AZ, meaning if you use more than one AZ the cost will be higher)</li><li>Charged per data processed (~0.01 USD per GB in eu-west-1)</li><li>Uses Private IP Addresses</li><li>Associated at the Subnet Level</li><li>Has both a security group and a endpoint policy</li></ul><h2 id=how-do-they-work>How do they work?</h2><p>When a VPC Endpoint is created, AWS creates an ENI (Elastic Network Interface) in your VPC. This ENI is assigned a private IP address from the IP range of your subnet. This means that when you access the service, you are using a private IP address to do so. This is why you need to associate the VPC Endpoint with a subnet, as the ENI is created in that subnet.</p><h3 id=how-does-it-route>How does it route?</h3><p>When you create a VPC Gateway Endpoint, you will need to update the route table of VPC to point to the Gateway Endpoint. This means that when you try to access S3 or DynamoDB, the traffic is routed to the Gateway Endpoint instead of the internet.</p><p>When you create a VPC Interface Endpoint in AWS, a DNS entry is automatically generated for the service you intend to access. This allows you to access the service using the endpoint&rsquo;s DNS name. For example, you might use <code>⁠vpce-{identifier}.execute-api.eu-west-1.vpce.amazonaws.com</code>. In addition to the regional DNS entry, AWS also creates Availability Zone-specific DNS entries. This means that if you have a private subnet in the eu-west-1a Availability Zone, the DNS entry will point to the Elastic Network Interface (ENI) created in that specific zone.</p><p>For example when you create a VPC Endpoint for API Gateway, you will get a DNS entry like this you will be able to execute your API Gateway using the following URL:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>https://<span style=color:#ff79c6>{</span>rest-api-id<span style=color:#ff79c6>}</span>-<span style=color:#ff79c6>{</span>vpce-id<span style=color:#ff79c6>}</span>.execute-api.<span style=color:#ff79c6>{</span>region<span style=color:#ff79c6>}</span>.amazonaws.com/<span style=color:#ff79c6>{</span>stage<span style=color:#ff79c6>}</span>
</span></span></code></pre></div><p>This means that you can access the API Gateway without going through the internet. This is particularly useful if you have a private subnet and you want to access the API Gateway without going through the internet.</p><h4 id=additional-sources>Additional sources</h4><ul><li><a href=https://docs.aws.amazon.com/vpc/latest/userguide/endpoint-services-overview.html>What are VPC endpoints?</a></li><li><a href=https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-api-test-invoke-url.html>API Gateway Private API Test Invoke URL</a></li></ul></div></article></div></div></div></div></div></div></main><footer class=mt-32><div class=sm:px-8><div class="mx-auto max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pt-10 pb-16 0"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><div class="flex gap-6 text-sm font-medium text-zinc-800"><a class="transition hover:text-teal-500" href=/>Home</a></div><p class="text-sm text-zinc-400">© 2025 Cino Consultancy<br><span class=text-xs>KVK: 89913019</span></p></div></div></div></div></div></div></footer></div></body></html>